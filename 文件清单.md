# åšå®¢é¡¹ç›® - æ–‡ä»¶æ¸…å•

## æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨ï¼ˆå…±32ä¸ªï¼‰

### ğŸ“„ é…ç½®æ–‡ä»¶ï¼ˆ5ä¸ªï¼‰
```
â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ PROJECT_GUIDE.md           # å®Œæ•´é¡¹ç›®æŒ‡å—
â”œâ”€â”€ QUICKSTART.md              # å¿«é€Ÿå¯åŠ¨
â”œâ”€â”€ TROUBLESHOOTING.md         # æ•…éšœæ’æŸ¥
â””â”€â”€ å®Œæ•´é¡¹ç›®æ–‡æ¡£.md            # å…¨éƒ¨æ–‡æ¡£
```

### ğŸ Pythonæ–‡ä»¶ï¼ˆ9ä¸ªï¼‰
```
app/
â”œâ”€â”€ __init__.py               # Flaskåº”ç”¨å·¥å‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user.py              # ç”¨æˆ·æ¨¡å‹
â”‚   â””â”€â”€ post.py              # æ–‡ç« /åˆ†ç±»/æ ‡ç­¾æ¨¡å‹
â””â”€â”€ routes/
    â”œâ”€â”€ auth.py              # è®¤è¯è·¯ç”±
    â”œâ”€â”€ main.py              # ä¸»è¦è·¯ç”± âœ…å·²ä¿®å¤
    â””â”€â”€ admin.py             # ç®¡ç†è·¯ç”±

æ ¹ç›®å½•/
â”œâ”€â”€ run.py                    # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ reset_database.py         # æ•°æ®åº“é‡ç½®
â”œâ”€â”€ migrate_db.py            # æ•°æ®åº“è¿ç§»
â””â”€â”€ fix_error.py             # ç¼“å­˜æ¸…ç†
```

### ğŸ¨ HTMLæ¨¡æ¿ï¼ˆ14ä¸ªï¼‰
```
app/templates/
â”œâ”€â”€ base.html                 # åŸºç¡€æ¨¡æ¿
â”œâ”€â”€ index.html                # é¦–é¡µ âœ…å·²ä¿®å¤
â”œâ”€â”€ post.html                 # æ–‡ç« è¯¦æƒ…
â”œâ”€â”€ about.html                # å…³äºé¡µ
â”œâ”€â”€ search.html               # æœç´¢é¡µ
â”œâ”€â”€ category.html             # åˆ†ç±»é¡µ
â”œâ”€â”€ tag.html                  # æ ‡ç­¾é¡µ
â”œâ”€â”€ categories.html           # åˆ†ç±»åˆ—è¡¨
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ login.html           # ç™»å½•é¡µ
â”‚   â””â”€â”€ register.html        # æ³¨å†Œé¡µ
â””â”€â”€ admin/
    â”œâ”€â”€ dashboard.html       # ç®¡ç†åå°
    â”œâ”€â”€ edit_post.html       # ç¼–è¾‘æ–‡ç« 
    â”œâ”€â”€ edit_category.html   # ç¼–è¾‘åˆ†ç±»
    â””â”€â”€ import.html          # å¯¼å…¥MD
```

### ğŸ’… æ ·å¼æ–‡ä»¶ï¼ˆ1ä¸ªï¼‰
```
app/static/css/
â””â”€â”€ style.css                 # è‡ªå®šä¹‰æ ·å¼ï¼ˆå«å¤œé—´æ¨¡å¼ï¼‰
```

### ğŸ—„ï¸ æ•°æ®åº“ï¼ˆ1ä¸ªï¼‰
```
instance/
â””â”€â”€ blog.db                   # SQLiteæ•°æ®åº“ âœ…å·²é‡ç½®
```

### ğŸ“ æµ‹è¯•æ–‡ä»¶ï¼ˆ1ä¸ªï¼‰
```
â””â”€â”€ ç¤ºä¾‹æ–‡ç« .md               # æµ‹è¯•ç”¨MDæ–‡ä»¶
```

## æ ¸å¿ƒä¿®å¤è¯´æ˜

### âœ… å·²ä¿®å¤çš„é—®é¢˜

#### 1. æ¨¡æ¿è¿‡æ»¤å™¨é”™è¯¯
**æ–‡ä»¶**: `app/routes/main.py`, `app/templates/index.html`

**é—®é¢˜**: ä½¿ç”¨äº†ä¸å­˜åœ¨çš„ `mapattribute` è¿‡æ»¤å™¨

**ä¿®å¤**:
```python
# main.py - åœ¨Pythonä»£ç ä¸­è®¡ç®—æ€»æµè§ˆé‡
total_views = db.session.query(func.sum(Post.views)).filter_by(published=True).scalar() or 0
```

```jinja2
{# index.html - ç›´æ¥ä½¿ç”¨ä¼ é€’çš„å˜é‡ #}
{{ total_views }}
```

#### 2. æ•°æ®åº“ç»“æ„
**æ–‡ä»¶**: `instance/blog.db`

**é—®é¢˜**: ç¼ºå°‘æ–°å­—æ®µ

**ä¿®å¤**: é‡ç½®æ•°æ®åº“ï¼ŒåŒ…å«æ‰€æœ‰å­—æ®µï¼š
- category_id
- views
- cover_image
- category è¡¨
- tag è¡¨
- post_tags è¡¨

## å…³é”®æ–‡ä»¶è¯´æ˜

### 1. app/__init__.py
Flaskåº”ç”¨åˆå§‹åŒ–ï¼ŒåŒ…å«ï¼š
- æ•°æ®åº“é…ç½®
- è“å›¾æ³¨å†Œ
- ç”¨æˆ·è®¤è¯è®¾ç½®

### 2. app/routes/main.py
ä¸»è¦ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…å«ï¼š
- é¦–é¡µï¼ˆåˆ†é¡µã€ç»Ÿè®¡ï¼‰
- æ–‡ç« è¯¦æƒ…ï¼ˆæµè§ˆé‡ï¼‰
- åˆ†ç±»/æ ‡ç­¾æµè§ˆ
- æœç´¢åŠŸèƒ½

### 3. app/routes/admin.py
ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…å«ï¼š
- æ–‡ç« CRUD
- åˆ†ç±»/æ ‡ç­¾ç®¡ç†
- MDæ–‡ä»¶å¯¼å…¥

### 4. app/templates/base.html
åŸºç¡€æ¨¡æ¿ï¼ŒåŒ…å«ï¼š
- å¯¼èˆªæ 
- å¤œé—´æ¨¡å¼åˆ‡æ¢
- æœç´¢æ¡†
- é¡µè„š

### 5. app/static/css/style.css
å®Œæ•´æ ·å¼ç³»ç»Ÿï¼ŒåŒ…å«ï¼š
- CSSå˜é‡
- å¤œé—´æ¨¡å¼
- å“åº”å¼è®¾è®¡
- åŠ¨ç”»æ•ˆæœ

## ä½¿ç”¨æ­¥éª¤

### 1. å®‰è£…ä¾èµ–
```bash
cd my-blog
pip install -r requirements.txt
```

### 2. å¯åŠ¨åº”ç”¨
```bash
python run.py
```

### 3. è®¿é—®åšå®¢
```
http://localhost:5000
```

### 4. æ³¨å†Œè´¦å·
```
http://localhost:5000/auth/register
```

### 5. å¼€å§‹ä½¿ç”¨
- åˆ›å»ºåˆ†ç±»å’Œæ ‡ç­¾
- å‘å¸ƒæ–‡ç« 
- å¯¼å…¥MDæ–‡ä»¶

## åŠŸèƒ½æ¸…å•

### âœ… å·²å®ç°åŠŸèƒ½
- [x] ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- [x] æ–‡ç« CRUD
- [x] Markdownæ”¯æŒ
- [x] åˆ†ç±»ç³»ç»Ÿ
- [x] æ ‡ç­¾ç³»ç»Ÿ
- [x] æœç´¢åŠŸèƒ½
- [x] MDæ–‡ä»¶å¯¼å…¥
- [x] å¤œé—´æ¨¡å¼
- [x] å“åº”å¼è®¾è®¡
- [x] æµè§ˆé‡ç»Ÿè®¡
- [x] åˆ†é¡µåŠŸèƒ½
- [x] å¤šç¼–ç æ”¯æŒ

### ğŸ”§ æŠ€æœ¯æ ˆ
- Flask 3.0
- SQLAlchemy 3.1
- SQLite
- Bootstrap 5
- Markdown
- Jinja2

## æ•…éšœæ’æŸ¥

### é—®é¢˜1: æ¨¡æ¿é”™è¯¯
```bash
python fix_error.py
```

### é—®é¢˜2: æ•°æ®åº“é”™è¯¯
```bash
python reset_database.py
```

### é—®é¢˜3: ç«¯å£å ç”¨
```bash
netstat -ano | findstr :5000
```

### é—®é¢˜4: ä¾èµ–é—®é¢˜
```bash
pip install -r requirements.txt --force-reinstall
```

## æ–‡æ¡£è¯´æ˜

- **README.md** - é¡¹ç›®ä»‹ç»
- **PROJECT_GUIDE.md** - å®Œæ•´æŒ‡å—
- **QUICKSTART.md** - å¿«é€Ÿå¯åŠ¨
- **TROUBLESHOOTING.md** - æ•…éšœæ’æŸ¥
- **å®Œæ•´é¡¹ç›®æ–‡æ¡£.md** - å…¨éƒ¨æ–‡æ¡£
- **æ–‡ä»¶æ¸…å•.md** - æœ¬æ–‡ä»¶

## å½“å‰çŠ¶æ€

âœ… åº”ç”¨æ­£å¸¸è¿è¡Œ
âœ… æ‰€æœ‰é”™è¯¯å·²ä¿®å¤
âœ… æ•°æ®åº“å®Œæ•´
âœ… åŠŸèƒ½å…¨éƒ¨å¯ç”¨

**è®¿é—®åœ°å€**: http://localhost:5000

---

**é¡¹ç›®çŠ¶æ€**: ç”Ÿäº§å°±ç»ª ğŸš€
**æœ€åæ›´æ–°**: 2025-01-17
**ç‰ˆæœ¬**: v2.0.0
